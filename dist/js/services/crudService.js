!function(){"use strict";function e(e,n){function t(t,r){var c=e.defer();return n.connect().then(function(){var e=n[r].createRow(t);n.db.insert().into(n[r]).values([e]).exec().then(function(e){c.resolve(e[0])},function(e){c.reject(e)})},function(e){c.reject(e)}),c.promise}function r(t,r){var c=e.defer();return n.connect().then(function(){var e=n[r].createRow(t);n.db.insertOrReplace().into(n[r]).values([e]).exec().then(function(e){c.resolve(e[0])},function(e){c.reject(e)})},function(e){c.reject(e)}),c.promise}function c(t,r,c){var o=e.defer();return n.connect().then(function(){n.db.select().from(n[r]).where(n[r][c].eq(t)).exec().then(function(e){angular.isDefined(e)?o.resolve(e):o.reject()})},function(e){o.reject(e)}),o.promise}function o(t){var r=e.defer();return n.connect().then(function(){n.db.select().from(n[t]).exec().then(function(e){angular.isDefined(e)?r.resolve(e):r.reject()})},function(e){r.reject(e)}),r.promise}function i(t,r,c){var o=e.defer();return n.connect().then(function(){n.db["delete"]().from(n[r]).where(n[r][c].eq(t)).exec().then(function(e){o.resolve(e)},function(e){o.reject(e)})},function(e){o.reject(e)}),o.promise}function f(t){var r=e.defer();return n.connect().then(function(){n.db["delete"]().from(n[t]).exec().then(function(e){r.resolve(e)},function(e){r.reject(e)})},function(e){r.reject(e)}),r.promise}function u(t,r,c){var o=e.defer();return n.connect().then(function(){var e=n.db.update(n[c]),i=Object.keys(r);i.forEach(function(t){t!=n[c].id.getName()&&(e=e.set(n[c][t],r[t]))}),e.where(n[c][n[c].id.getName()].eq(t)).exec().then(function(e){o.resolve(e)},function(e){o.reject(e)})},function(e){o.reject(e)}),o.promise}var a={find:c,insert:t,insertOrReplace:r,findAll:o,remove:i,update:u,removeAll:f};return a}app.factory("crudService",e),e.$inject=["$q","dbService"]}();